<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Responsive Hero with Scrolling Images</title>
    <link rel="stylesheet" href="css/style.css">
    <!-- Google reCAPTCHA -->
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    <!-- EmailJS -->
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
</head>
<body>
    <section class="hero">
        <!-- EMAIL + MESSAGE FORM OVERLAY -->
        <div class="email-form-overlay" id="formOverlay">
            <div class="signup-container">
                <h1 class="hero-title">Visual Journey</h1>
                <p class="hero-subtitle">Get notified when we launch</p>
                
                <!-- SUCCESS MESSAGE -->
                <div class="success-message" id="successMsg">
                    ✅ Thank you! We'll notify you soon.
                </div>

                <!-- EMAIL + MESSAGE FORM -->
                <form id="emailForm" style="display: none;">
                    <div class="form-group">
                        <input 
                            type="email" 
                            class="form-input" 
                            id="emailInput" 
                            placeholder="Enter your email address"
                            required
                        >
                    </div>
                    
                    <div class="form-group">
                        <textarea 
                            class="form-textarea" 
                            id="messageInput" 
                            placeholder="Tell us what you're most excited about (optional)"
                            maxlength="500"
                        ></textarea>
                        <div class="char-counter" id="charCounter">0/500</div>
                    </div>
                    
                    <div class="g-recaptcha" 
                         data-sitekey="6LeloPQrAAAAAKoJF27Q0GkSws8j0SwnNQu-RgcV">
                    </div>
                    
                    <button type="submit" class="notify-btn">
                        Send Message
                    </button>
                </form>

                <!-- NOTIFY BUTTON (Initial) -->
                <button type="button" class="notify-btn" id="notifyBtn">
                    Notify Me
                </button>
            </div>
        </div>
        

        <!-- Row 1: Top Row -->
        <div class="scroll-row row-1">
            <div class="scroll-container">
                <!-- Duplicate images for seamless loop -->
                <div class="scroll-item"><img src="media/IMG_7882.jpg" alt="hat 1"></div>
                <div class="scroll-item"><img src="media/IMG_7879.jpg" alt="hat 2"></div>
                <div class="scroll-item"><img src="media/IMG_6957.JPG" alt="hat 3"></div>
                <div class="scroll-item"><img src="media/IMG_6950.JPG" alt="hat 4"></div>
                <!-- Duplicates for seamless scroll -->
                <div class="scroll-item"><img src="media/IMG_6350.JPG" alt="hat 1"></div>
                <div class="scroll-item"><img src="media/IMG_6962.JPG" alt="hat 2"></div>
                <div class="scroll-item"><img src="media/IMG_7872.jpg" alt="hat 1"></div>
                <div class="scroll-item"><img src="media/IMG_6954.JPG" alt="hat 2"></div>
            </div>
        </div>

        <!-- Row 2: Middle Row -->
        <div class="scroll-row row-2">
            <div class="scroll-container">
                <div class="scroll-item"><img src="media/IMG_3440.jpg" alt="hat 1"></div>
                <div class="scroll-item"><img src="media/IMG_1403.jpg" alt="hat 2"></div>
                <div class="scroll-item"><img src="media/IMG_1394.jpg" alt="hat 3"></div>
                <div class="scroll-item"><img src="media/IMG_1383.jpg" alt="hat 4"></div>
                <!-- Duplicates -->
                <div class="scroll-item"><img src="media/IMG_1381.jpg" alt="hat 1"></div>
                <div class="scroll-item"><img src="media/IMG_1369.jpg" alt="hat 2"></div>
                <div class="scroll-item"><img src="media/IMG_1367.jpg" alt="hat 1"></div>
                <div class="scroll-item"><img src="media/IMG_1364.jpg" alt="hat 2"></div>
            </div>
        </div>

        <!-- Row 3: Bottom Row -->
        <div class="scroll-row row-3">
            <div class="scroll-container">
                <div class="scroll-item"><img src="media/2 (56).jpg" alt="hat 1"></div>
                <div class="scroll-item"><img src="media/4 (230).JPG" alt="hat 2"></div>
                <div class="scroll-item"><img src="media/602b0eead88f9d28e505fcc8d1df7c0c.jpg" alt="hat 3"></div>
                <div class="scroll-item"><img src="media/IMG_1366.jpg" alt="hat 4"></div>
                <!-- Duplicates -->
                <div class="scroll-item"><img src="media/IMG_1373.jpg" alt="hat 1"></div>
                <div class="scroll-item"><img src="media/IMG_1374.jpg" alt="hat 2"></div>
                <div class="scroll-item"><img src="media/IMG_1403.jpg" alt="hat 1"></div>
                <div class="scroll-item"><img src="media/IMG_3444.jpg" alt="hat 2"></div>
            </div>
        </div>
    </section>
    <footer><p>created by The Peach Ave</p></footer>
    <script>
        // Initialize EmailJS - REPLACE WITH YOUR USER ID
        emailjs.init("i9wEe4EWfhA-YFEp4");

        // FORM ELEMENTS
        const notifyBtn = document.getElementById('notifyBtn');
        const emailForm = document.getElementById('emailForm');
        const formOverlay = document.getElementById('formOverlay');
        const emailInput = document.getElementById('emailInput');
        const messageInput = document.getElementById('messageInput');
        const successMsg = document.getElementById('successMsg');
        const charCounter = document.getElementById('charCounter');

        // 1. CHARACTER COUNTER
        messageInput.addEventListener('input', function() {
            const length = this.value.length;
            charCounter.textContent = `${length}/500`;
            charCounter.classList.toggle('warning', length > 450);
        });

        // 2. CLICK NOTIFY → SHOW FORM
        notifyBtn.addEventListener('click', function() {
            notifyBtn.style.display = 'none';
            emailForm.style.display = 'block';
            formOverlay.classList.add('active');
            emailInput.focus();
        });

        // 3. FORM SUBMISSION
        emailForm.addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const email = emailInput.value;
            const message = messageInput.value.trim();
            const recaptchaResponse = grecaptcha.getResponse();
            
            if (!email || !recaptchaResponse) {
                alert('Please enter email and complete reCAPTCHA');
                return;
            }

            // SEND VIA EmailJS
            try {
                await emailjs.send("service_juigwjx", "template_5cnp8af", {
                    email: email,
                    message: message || 'No message provided',
                    'g-recaptcha-response': recaptchaResponse
                });
                
                // SUCCESS
                successMsg.innerHTML = `✅ Thank you ${email}! We'll notify you soon.`;
                successMsg.classList.add('show');
                emailForm.style.display = 'none';
                
                // RESET
                grecaptcha.reset();
                
            } catch (error) {
                console.error('EmailJS error:', error);
                alert('Oops! Something went wrong. Try again.');
            }
        });

        // 4. PAUSE/RESUME SCROLLING
        [emailInput, messageInput].forEach(input => {
            input.addEventListener('focus', () => {
                formOverlay.classList.add('active');
            });
            
            input.addEventListener('blur', () => {
                if (!emailInput.value) {
                    formOverlay.classList.remove('active');
                }
            });
        });

        // 5. ESC KEY TO CLOSE
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && emailForm.style.display === 'block') {
                emailForm.style.display = 'none';
                notifyBtn.style.display = 'block';
                formOverlay.classList.remove('active');
                successMsg.classList.remove('show');
                grecaptcha.reset();
                messageInput.value = '';
                charCounter.textContent = '0/500';
            }
        });
    </script>
</body>
</html>